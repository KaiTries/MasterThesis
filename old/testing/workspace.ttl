@base <http://localhost:8080/> .
@prefix websub: <https://purl.org/hmas/websub/> .
@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix js: <https://www.w3.org/2019/wot/json-schema#> .
@prefix hmas: <https://purl.org/hmas/> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix htv: <http://www.w3.org/2011/http#> .
@prefix jacamo: <https://purl.org/hmas/jacamo/> .
@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix gr: <http://purl.org/goodrelations/v1#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix schema: <http://schema.org/> .
@prefix bspl:   <https://purl.org/bspl#> .
@prefix bazaar: <http://bazaar.com#> .
@prefix ex:     <http://example.com/> .

<workspaces/bazaar#workspace> a td:Thing, hmas:Workspace, gr:BusinessEntity;
  td:title "bazaar";
  td:hasSecurityConfiguration [ a wotsec:NoSecurityScheme
    ];
  td:hasActionAffordance  [ a td:ActionAffordance;
      td:name "getProtocol";
      td:hasForm [
          htv:methodName "GET";
          hctl:hasTarget <http://localhost:8005/protocol>;
          hctl:forContentType "text/plain";
          hctl:hasOperationType td:invokeAction
        ]
    ];
  
  rdfs:seeAlso <http://www.bazaar.com> ;
  gr:legalName "bazaar.com Ltd."^^xsd:string ;
  gr:offers <workspaces/bazaar#RugOffer> ;
  
  hmas:isHostedOn <#platform>;
  hmas:contains <workspaces/bazaar/artifacts/body_bazaar_agent#artifact>, <workspaces/bazaar/artifacts/rug#artifact> .



<workspaces/bazaar#RugOffer> a gr:Offering ;
      gr:hasBusinessFunction gr:Sell ;
      gr:hasPriceSpecification <workspaces/bazaar#UnitPriceSpecification_1> ;
      gr:includesObject <workspaces/bazaar#TypeAndQuantityNode_1> ;
      schema:potentialAction ex:BuyAction .

<workspaces/bazaar#TypeAndQuantityNode_1> a gr:TypeAndQuantityNode ;
      gr:amountOfThisGood "1.0"^^xsd:float ;
      gr:hasUnitOfMeasurement "C62"^^xsd:string ;
      gr:typeOfGood <workspaces/bazaar/artifacts/rug#artifact> .

<workspaces/bazaar#UnitPriceSpecification_1> a gr:UnitPriceSpecification ;
      gr:hasCurrency "EUR"^^xsd:string ;
      gr:hasCurrencyValue "200.0"^^xsd:float ;
      gr:hasUnitOfMeasurement "C62"^^xsd:string .

ex:Buy a bspl:Protocol ;
  bspl:hasRole ex:Buyer , ex:Seller ;
  bspl:hasMessage ex:Pay , ex:Give .

ex:BuyAction a schema:BuyAction ;
  bspl:usesProtocol ex:Buy ;
  schema:target [
    a schema:EntryPoint ;
    schema:urlTemplate "http://localhost:8005/interaction" ;
    schema:httpMethod "POST"
  ] .

<workspaces/bazaar> a hmas:ResourceProfile ; 
  hmas:isProfileOf <workspaces/bazaar#workspace> .

<#platform> a hmas:HypermediaMASPlatform .
<workspaces/bazaar/artifacts/body_bazaar_agent#artifact> a hmas:Artifact, jacamo:Body .
<workspaces/bazaar/artifacts/rug#artifact> a hmas:Artifact, gr:ActualProductOrServiceInstance .
